# RoO

[![Build Status](https://github.com/JonathanGarson/RoO.jl/actions/workflows/CI.yml/badge.svg?branch=main)](https://github.com/JonathanGarson/RoO.jl/actions/workflows/CI.yml?query=branch%3Amain)

This project is the replication of **[Head&amp;al (2024)](https://www.sciencedirect.com/science/article/pii/S0022199624000357)** paper on the Laffer Curve of Rule of Origin. The objective is to reproduce the main results obtained by the authors using Julia and, eventually, improving on the speed to simulate the results. This is a last year work of the graduate program in Economics of [SciencesPo Paris Economic Department](https://www.sciencespo.fr/department-economics/), for the class of computational economics taught by Professor [Florian Oswald](https://floswald.github.io/).

**Authors : Mathilde Blanchon & Jonathan Garson & Marie-Ange Ortiz**

## Folder organisation

The folders are organised as follow:

```
├── README.md          <- The top-level README for developers using this project.
│
├── data               <- folder containing all the originary and newly created data
│   ├── AALA           <- AALA data
│   ├── GravData       <- Gravity Data
│   ├── Mfg_surveys    <- Manufacturing surveys
│   └── RDS_JIE        <- RDS data used in the paper
|
├── original_code
│   ├── Julia          <- Julia files
│   ├── Mathematica    <- Mathematica files
│   ├── Plots_JIE_rev  <- Plots for the Japanese Journal of International Economics
│   ├── R_JIE_files    <- R files to generate simulations and plots
│   └── Tables_JIE_rev <- Tables for the Japanese Journal of International Economics
│   
├── references         <- Data dictionaries, manuals, and all other explanatory materials.
│   
├── output             <- Output generated by the replication package.
│    ├── figures       <- contains the figures in latex and pdf/png/etc. formats.
│    └── tables        <- contains the tables in latex and pdf/png/etc. formats.
│
├── test               <- Contains the unit test files.
│
└── src                <- Source code for use in this project.
````
Additional files :

**ROO_Pkg.jl** : Is a package which contain a fonction run. Using this package and the run() fonction allows to run the whole replication and open output.

## Computational Requirements
We indicate here the minimum ressources used for replication on our own devices. Expected run time may vary depending on your own machine.

## Expected run time

## Reproduction

At the address of the replicator. The first step is to download the package RoO. For that enter in the Julia terminal:

```
] add RoO
```
Then, to replicate easily the outputs you can run the following commands:

```
using RoO

run_short() # generate the outputs without simulation to reduce computational requirements and generation time
run_long() # generate the outputs with the simulation 
```

**TABLE FOR OUTPUT CODE AND FOLDER**

### Replication of AALA_clean.

This Julia script performs the cleaning and analysis of AALA data from a raw CSV file. It includes the following steps.

In order to replicate this script we had the replicate some fonction of the author's custom package  HeadR,

1. Loading the raw data : We note that we have slightly less observations for 2017 (572 VS 576), 2018 (630 VS 640), 2019 (549  VS 586)  and 2020 (617 VS 618).
2. Correcting column shifts in specific years : The main cleaning and consist in correcting column shifts for certain years.

- mfg_HQ to identify the manufacturer’s country.
- E_US, E_CA, T_US, T_CA, etc., to determine the origins of engines and transmissions.

3. Spliting split the colomn percent_content_other1 and percent_content_other2, which contains both percentage and country of origine in to distinct column other1_shr et other2_shr for percent content, other1_who and  other2_who for country code.
   We note
4. Creating aggregation variables based on assembly for NAFTA regions.
5. Calculating market shares for Mexico, the U.S., and Canada.
